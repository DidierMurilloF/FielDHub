<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="FielDHub">
<title>Optimized Multi-Location P-rep Design • FielDHub</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Optimized Multi-Location P-rep Design">
<meta property="og:description" content="FielDHub">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FielDHub</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/sparse_allocation.html">Sparse Allocation/Testing</a>
    <a class="dropdown-item" href="../articles/diagonal_arrangement.html">Unreplicated Diagonal Arrangement Design</a>
    <a class="dropdown-item" href="../articles/optimized_arrangement.html">Unreplicated Optimized Arrangement Design</a>
    <a class="dropdown-item" href="../articles/RCBD_augmented.html">Augmented Randomized Complete Block Design</a>
    <a class="dropdown-item" href="../articles/partially_replicated.html">Partially Replicated Design</a>
    <a class="dropdown-item" href="../articles/multi_location_prep.html">Optimized Multi-Location P-rep</a>
    <a class="dropdown-item" href="../articles/square_lattice.html">Square Lattice Design</a>
    <a class="dropdown-item" href="../articles/rectangular_lattice.html">Rectangular Lattice Design</a>
    <a class="dropdown-item" href="../articles/alpha_lattice.html">Alpha Lattice Design</a>
    <a class="dropdown-item" href="../articles/crd.html">Completely Randomized Design</a>
    <a class="dropdown-item" href="../articles/rcbd.html">Randomized Complete Block Design</a>
    <a class="dropdown-item" href="../articles/latin_square.html">Latin Square Design</a>
    <a class="dropdown-item" href="../articles/full_factorial.html">Full Factorial Design</a>
    <a class="dropdown-item" href="../articles/split_plot.html">Split-Plot Design</a>
    <a class="dropdown-item" href="../articles/split_split_plot.html">Split-Split Plot Design</a>
    <a class="dropdown-item" href="../articles/strip_plot.html">Strip-Plot Design</a>
    <a class="dropdown-item" href="../articles/incomplete_blocks.html">Incomplete Block Design</a>
    <a class="dropdown-item" href="../articles/row_column.html">Row-Column Design</a>
    <a class="dropdown-item" href="../articles/methods.html">Methods in FielDHub</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="dropdown-item" href="../articles/news/fieldhub-1-3-1.html">Version 1.3.1</a>
    <a class="dropdown-item" href="../articles/news/fieldhub-1-2-0.html">Version 1.2.0</a>
    <a class="dropdown-item" href="../articles/news/fieldhub-0-1-0.html">Version 0.1.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DidierMurilloF/FielDHub/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="multi_location_prep_files/kePrint-0.0.1/kePrint.js"></script><link href="multi_location_prep_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Optimized Multi-Location P-rep Design</h1>
                        <h4 data-toc-skip class="author">Didier Murillo
Florez<sup>1</sup>, Matthew Seefeldt</h4>
            <address class="author_afil">
      <sup>1</sup>North Dakota Agricultural Experiment Station, North
Dakota State University, USA.<br><small class="dont-index">Source: <a href="https://github.com/DidierMurilloF/FielDHub/blob/HEAD/vignettes/multi_location_prep.Rmd" class="external-link"><code>vignettes/multi_location_prep.Rmd</code></a></small>
      <div class="d-none name"><code>multi_location_prep.Rmd</code></div>
    </address>
</div>

    
    
<p>This vignette shows how to generate an <strong>optimized
multi-location partially replicated (p-rep) design</strong> using both
the FielDHub Shiny App and the scripting function
<code><a href="../reference/multi_location_prep.html">multi_location_prep()</a></code> from the <code>FielDHub</code> R
package.</p>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>Partially replicated (p-rep) designs are frequently used in
early-generation plant breeding field trials. This design typically
involves repeating some entries/breeding lines, while the remaining
entries only appear once in the experiment. In <code>FielDHub</code>,
the optimized p-rep design is a variant of the p-rep design that employs
the principles of incomplete block designs (IBD) to determine the
distribution of replicated and non-replicated treatments across multiple
locations.</p>
</div>
<div class="section level3">
<h3 id="optimization">Optimization<a class="anchor" aria-label="anchor" href="#optimization"></a>
</h3>
<div class="section level4">
<h4 id="across-location">Across Location<a class="anchor" aria-label="anchor" href="#across-location"></a>
</h4>
<p>The function <code><a href="../reference/multi_location_prep.html">multi_location_prep()</a></code> uses the incomplete
blocks design approach <span class="citation">(Edmondson 2020)</span> to
optimize the allocation of replicated and unreplicated treatments across
the environments.</p>
</div>
<div class="section level4">
<h4 id="within-location">Within Location<a class="anchor" aria-label="anchor" href="#within-location"></a>
</h4>
<p>Each partially replicated (p-rep) design location undergoes an
optimization process that involves the following procedure:</p>
<p>The optimization problem that we try to solve is the following: Given
a matrix <span class="math inline">\(X\)</span> of integers (p-rep
design within location), we want to ensure that the distance between any
two occurrences of the same treatment is at least a distance <span class="math inline">\(d\)</span>. More specifically, we want to modify
<span class="math inline">\(X\)</span> to ensure that no treatments
appear twice within a distance less than <span class="math inline">\(d\)</span> in the resulting matrix.</p>
<p>The goal of the optimization process is to find a modified matrix
that satisfies this constraint while maximizing some measure of
deviation from the original matrix <span class="math inline">\(X\)</span>. In this case, the measure of deviation
is the pairwise Euclidean distance between occurrences of the same
treatment. The process is done by the function <code><a href="../reference/swap_pairs.html">swap_pairs()</a></code>
that uses a heuristic algorithm that starts with a distance of <span class="math inline">\(d = 3\)</span> between pairs of occurrences of the
same treatment, and increases this distance by <span class="math inline">\(1\)</span> and repeats the process until either
the algorithm no longer converges or the maximum number of iterations is
reached.</p>
<p>The algorithm works by first identifying all pairs of occurrences of
the same treatment that are closer than <span class="math inline">\(d\)</span>. For each such pair, the function
selects a random occurrence of a different integer that is at least
<span class="math inline">\(d\)</span> away, and swaps the two
occurrences. This process is repeated until no further swaps can be made
that increase the pairwise Euclidean distances between occurrences of
the same treatment.</p>
<div class="section level5">
<h5 id="toy-example">Toy Example<a class="anchor" aria-label="anchor" href="#toy-example"></a>
</h5>
<p>Consider a p-rep design where ten treatments are replicated twice and
40 only once. The matrix (field layout) for this experiment has 6 rows
and 10 columns.</p>
<p><span class="math inline">\(X =\)</span></p>
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]   21   40   17   25   26    3   11   31   36     6
[2,]    5    5   33    8   48   29   43   23    1    45
[3,]   41   27   38   39    7   28   14   22   24     4
[4,]    4   47   18    7    2   35    6   20   12    46
[5,]    3   15    9   34   49   50    2   10   42     8
[6,]   32   16   19    9   10   13   37    1   44    30</code></pre>
<p>In this initial p-rep design, we notice that the two instances of
treatment <strong>5</strong> are positioned next to each other.
Additionally, treatments <strong>7</strong> and <strong>9</strong> are
also situated in adjacent cells. These suboptimal allocations could lead
to issues or inaccurate results when analyzing the data from this
experiment due to the short distance between replicated treatments and
the likely spatial correlation between them.</p>
<p>The following table shows the pairwise distances for the replicated
treatments</p>
<pre><code>   geno Pos1 Pos2     DIST rA cA rB cB
5     5    2    8 1.000000  2  1  2  2
7     7   22   27 1.414214  4  4  3  5
9     9   17   24 1.414214  5  3  6  4
2     2   28   41 2.236068  4  5  5  7
10   10   30   47 3.162278  6  5  5  8
1     1   48   50 4.123106  6  8  2  9
6     6   40   55 4.242641  4  7  1 10
3     3    5   31 6.403124  5  1  1  6
8     8   20   59 6.708204  2  4  5 10
4     4    4   57 9.055385  4  1  3 10</code></pre>
</div>
<div class="section level5">
<h5 id="swap-pairs">Swap pairs<a class="anchor" aria-label="anchor" href="#swap-pairs"></a>
</h5>
<p>We can improve the efficiency of the design by swapping the
treatments that are close and next to each other by using the function
<code><a href="../reference/swap_pairs.html">swap_pairs()</a></code> from <code>FielDHub</code> R package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DidierMurilloF/FielDHub" class="external-link">FielDHub</a></span><span class="op">)</span></span>
<span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/swap_pairs.html">swap_pairs</a></span><span class="op">(</span><span class="va">X</span>, starting_dist <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>The new matrix or the optimized p-rep design is,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(B<span class="sc">$</span>optim_design)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>] [,<span class="dv">6</span>] [,<span class="dv">7</span>] [,<span class="dv">8</span>] [,<span class="dv">9</span>] [,<span class="dv">10</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">8</span>   <span class="dv">35</span>    <span class="dv">6</span>    <span class="dv">2</span>   <span class="dv">33</span>   <span class="dv">44</span>    <span class="dv">3</span>    <span class="dv">4</span>   <span class="dv">37</span>     <span class="dv">6</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]   <span class="dv">43</span>   <span class="dv">30</span>   <span class="dv">25</span>    <span class="dv">5</span>   <span class="dv">39</span>   <span class="dv">29</span>   <span class="dv">19</span>   <span class="dv">11</span>   <span class="dv">36</span>    <span class="dv">45</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,]   <span class="dv">40</span>   <span class="dv">13</span>   <span class="dv">38</span>   <span class="dv">10</span>   <span class="dv">20</span>   <span class="dv">28</span>   <span class="dv">15</span>   <span class="dv">41</span>   <span class="dv">10</span>    <span class="dv">17</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,]    <span class="dv">1</span>   <span class="dv">27</span>   <span class="dv">18</span>   <span class="dv">31</span>   <span class="dv">32</span>   <span class="dv">22</span>   <span class="dv">24</span>   <span class="dv">21</span>   <span class="dv">12</span>     <span class="dv">5</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>,]   <span class="dv">23</span>   <span class="dv">47</span>    <span class="dv">3</span>   <span class="dv">34</span>   <span class="dv">49</span>   <span class="dv">50</span>   <span class="dv">16</span>   <span class="dv">46</span>   <span class="dv">14</span>    <span class="dv">48</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">6</span>,]    <span class="dv">7</span>   <span class="dv">26</span>    <span class="dv">2</span>   <span class="dv">42</span>    <span class="dv">9</span>    <span class="dv">1</span>    <span class="dv">8</span>    <span class="dv">7</span>    <span class="dv">4</span>     <span class="dv">9</span></span></code></pre></div>
<p>The distances for each pairwise of treatments are,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(B<span class="sc">$</span>pairswise_distance)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>   geno Pos1 Pos2     DIST rA cA rB cB</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>     <span class="dv">9</span>   <span class="dv">30</span>   <span class="dv">60</span> <span class="fl">5.000000</span>  <span class="dv">6</span>  <span class="dv">5</span>  <span class="dv">6</span> <span class="dv">10</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>   <span class="dv">10</span>   <span class="dv">21</span>   <span class="dv">51</span> <span class="fl">5.000000</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">3</span>  <span class="dv">9</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="dv">2</span>   <span class="dv">18</span>   <span class="dv">19</span> <span class="fl">5.099020</span>  <span class="dv">6</span>  <span class="dv">3</span>  <span class="dv">1</span>  <span class="dv">4</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="dv">4</span>   <span class="dv">43</span>   <span class="dv">54</span> <span class="fl">5.099020</span>  <span class="dv">1</span>  <span class="dv">8</span>  <span class="dv">6</span>  <span class="dv">9</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="dv">1</span>    <span class="dv">4</span>   <span class="dv">36</span> <span class="fl">5.385165</span>  <span class="dv">4</span>  <span class="dv">1</span>  <span class="dv">6</span>  <span class="dv">6</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="dv">3</span>   <span class="dv">17</span>   <span class="dv">37</span> <span class="fl">5.656854</span>  <span class="dv">5</span>  <span class="dv">3</span>  <span class="dv">1</span>  <span class="dv">7</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="dv">5</span>   <span class="dv">20</span>   <span class="dv">58</span> <span class="fl">6.324555</span>  <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">4</span> <span class="dv">10</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="dv">6</span>   <span class="dv">13</span>   <span class="dv">55</span> <span class="fl">7.000000</span>  <span class="dv">1</span>  <span class="dv">3</span>  <span class="dv">1</span> <span class="dv">10</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>     <span class="dv">7</span>    <span class="dv">6</span>   <span class="dv">48</span> <span class="fl">7.000000</span>  <span class="dv">6</span>  <span class="dv">1</span>  <span class="dv">6</span>  <span class="dv">8</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>     <span class="dv">8</span>    <span class="dv">1</span>   <span class="dv">42</span> <span class="fl">7.810250</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">6</span>  <span class="dv">7</span></span></code></pre></div>
<p>As we can see, the minimum distance that the algorithm reached is 5.
This means no treatments appear twice within a distance less than 5 in
the resulting prep design. It is a considerable improvement from the
first version of the p-rep design</p>
<p>The <code>FielDHub</code> function <code><a href="../reference/multi_location_prep.html">multi_location_prep()</a></code>
does internally all the optimization process and uses the function
<code><a href="../reference/swap_pairs.html">swap_pairs()</a></code> to maximize the distance between replicated
treatments.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="use-case-multi-location-p-rep-design">Use case (Multi-Location P-rep Design)<a class="anchor" aria-label="anchor" href="#use-case-multi-location-p-rep-design"></a>
</h3>
<p>Suppose there is a plant breeding field trial with 150 entries to be
tested across five environments, where up to seven replications of each
entry are allowed. Additionally, the project includes three checks; each
replicated six times. We can generate an optimized multi-location
partially replicated design using these parameters. This strategy
guarantees that all treatments are present in all environments but in
different amounts of replications. We can generate this design using the
FielDHub Shiny app and the FielDHub <code><a href="../reference/multi_location_prep.html">multi_location_prep()</a></code>
standalone function in R.</p>
</div>
<div class="section level3">
<h3 id="running-the-shiny-app">Running the Shiny App<a class="anchor" aria-label="anchor" href="#running-the-shiny-app"></a>
</h3>
<p>To launch the app you need to run either</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">FielDHub</span><span class="fu">::</span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DidierMurilloF/FielDHub" class="external-link">FielDHub</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-the-fieldhub-shiny-app">1. Using the FielDHub Shiny App<a class="anchor" aria-label="anchor" href="#using-the-fieldhub-shiny-app"></a>
</h3>
<p>Once the app is running, click the tab <strong>Partially Replicated
Design</strong> and select <strong>Optimized Multi-Location
p-rep</strong> from the dropdown.</p>
<p>Then, follow the following steps where we will show how to generate
an optimized partially replicated design.</p>
</div>
<div class="section level3">
<h3 id="inputs">Inputs<a class="anchor" aria-label="anchor" href="#inputs"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<p><strong>Import entries’ list?</strong> Choose whether to import a
list with entry numbers and names for genotypes or treatments.</p>
<ul>
<li><p>If the selection is <code>No</code>, that means the app is going
to generate synthetic data for entries and names of the
treatment/genotypes based on the user inputs.</p></li>
<li><p>If the selection is <code>Yes</code>, the entries list must
fulfill a specific format and must be a <code>.csv</code> file. The file
must have the columns <code>ENTRY</code> and <code>NAME</code>. The
<code>ENTRY</code> column must have a unique entry integer number for
each treatment/genotype. The column <code>NAME</code> must have a unique
name that identifies each treatment/genotype. Both <code>ENTRY</code>
and <code>NAME</code> must be unique, duplicates are not allowed. In the
following table, we show an example of the entries list format.</p></li>
</ul>
</li>
</ol>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
ENTRY
</th>
<th style="text-align:left;">
NAME
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Genotype1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Genotype2
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Genotype3
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Genotype4
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Genotype5
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Genotype6
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Genotype7
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Genotype8
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Genotype9
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
Genotype10
</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li><p>Enter the number of entries in the <strong>Input # of
Entries</strong> box as a comma separated list. In our example we will
have 150 entries, so we enter 150 in the box for our sample
experiment.</p></li>
<li><p>Select whether or not the experiment will contain checks under
the <strong>Include checks?</strong> option. The example experiment
does, so set this to <code>Yes</code>.</p></li>
<li><p>Once we select <code>Yes</code> on the above option, two more
boxes appear, the first being <strong>Input # of Checks</strong> where
we set how many checks to include in the experiment. In our case this is
3.</p></li>
<li><p>Next to this option we have <strong>Input # Check’s
Reps</strong>, where we set the number of replications for each check
respectively in a comma separated list. We are replicating each of the 3
checks 6 times, so enter <code>6,6,6</code> in this box.</p></li>
<li><p>Enter the number of locations in <strong>Input # of
Locations</strong>. We will run this experiment over 5 locations, so set
<strong>Input # of Locations</strong> to 5.</p></li>
<li><p>Set the total number of replications of the entries over all
locations in the <code># of Copies Per Entry</code> dropdown box. For
this example experiment, set this to 7.</p></li>
<li><p>Select <code>serpentine</code> or <code>cartesian</code> in the
<strong>Plot Order Layout</strong>. For this example we will use the
default <code>serpentine</code> layout.</p></li>
<li><p>To ensure that randomizations are consistent across sessions, we
can set a random seed in the box labeled <strong>Random Seed</strong>.
In this example, we will set it to <code>2456</code>.</p></li>
<li><p>(Optional) Enter the starting plot number in the <strong>Starting
Plot Number</strong> box. Since the experiment has multiple locations,
you must enter a comma separated list of numbers the length of the
number of locations for the input to be valid. In this example, we will
set it as <code>1,1001,2001,3001,4001</code>.</p></li>
<li><p>(Optional) Enter the location names in the <strong>Input Location
Name</strong> box. Since the experiment has six locations, you must
enter a comma separated list of strings for the names of the
environments. In this example, we will set it as
<code>LOC1,LOC2,LOC3,LOC4,LOC5</code>.</p></li>
</ol>
<p>Once we have entered the information for our experiment on the left
side panel, click the <strong>Run!</strong> button to run the design.
You will then be prompted to select the dimensions of the field from the
list of options in the dropdown in the middle of the screen with the box
labeled <strong>Select dimensions of field</strong>. In our case, we
will select <code>12 x 19</code>. Click the <strong>Randomize!</strong>
button to randomize the experiment with the set field dimensions and to
see the output plots. If you change the dimensions again, you must
re-randomize.</p>
<p>If you change any of the inputs on the left side panel after running
an experiment initially, you have to click the Run and Randomize buttons
again, to re-run with the new inputs.</p>
</div>
<div class="section level3">
<h3 id="outputs">Outputs<a class="anchor" aria-label="anchor" href="#outputs"></a>
</h3>
<p>After you run a <code>Optimized Multi-Location P-rep Design</code> in
FielDHub and set the dimensions of the field, there are several ways to
display the information contained in the field book. The first tab,
<strong>Get Random</strong>, shows the option to change the dimensions
of the field and re-randomize, as well as the genotype allocation matrix
generated for the optimized p-rep design, which displays the
replications of each genotype over each location, much like the matrix
generated in sparse allocation.</p>
<div class="section level4">
<h4 id="randomized-field">Randomized Field<a class="anchor" aria-label="anchor" href="#randomized-field"></a>
</h4>
<p>The <strong>Randomized Field</strong> tab displays a graphical
representation of the randomization of the entries in a field of the
specified dimensions. The replicated entries are the green colored
cells, with the which cells appearing only once in the location. The
display includes numbered labels for the rows and columns. You can copy
the field as a table or save it directly as an Excel file with the
<em>Copy</em> and <em>Excel</em> buttons at the top.</p>
</div>
<div class="section level4">
<h4 id="plot-number-field">Plot Number Field<a class="anchor" aria-label="anchor" href="#plot-number-field"></a>
</h4>
<p>On the <strong>Plot Number Field</strong> tab, there is a table
display of the field with the plots numbered according to the Plot Order
Layout specified, either <em>serpentine</em> or <em>cartesian</em>. You
can see the corresponding entries for each plot number in the field
book. Like the Randomized Field tab, you can copy the table or save it
as an Excel file with the <em>Copy</em> and <em>Excel</em> buttons.</p>
</div>
<div class="section level4">
<h4 id="field-book">Field Book<a class="anchor" aria-label="anchor" href="#field-book"></a>
</h4>
<p>The <strong>Field Book</strong> displays all the information on the
experimental design in a table format. It contains the specific plot
number and the row and column address of each entry, as well as the
corresponding treatment/genotype on that plot. This table is searchable,
and we can filter the data in relevant columns.</p>
</div>
</div>
<div class="section level3">
<h3 id="using-the-fieldhub-function-multi_location_prep-">2. Using the <code>FielDHub</code> function:
<code>multi_location_prep()</code>.<a class="anchor" aria-label="anchor" href="#using-the-fieldhub-function-multi_location_prep-"></a>
</h3>
<p>You can run the same design with the function
<code><a href="../reference/multi_location_prep.html">multi_location_prep()</a></code> in the <code>FielDHub</code>
package.</p>
<p>First, you need to load the <code>FielDHub</code> package typing,</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DidierMurilloF/FielDHub" class="external-link">FielDHub</a></span><span class="op">)</span></span></code></pre></div>
<p>Then, you can enter the information describing the above design like
this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">optim_multi_prep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multi_location_prep.html">multi_location_prep</a></span><span class="op">(</span></span>
<span>  lines <span class="op">=</span> <span class="fl">150</span>, </span>
<span>  l <span class="op">=</span> <span class="fl">5</span>, </span>
<span>  copies_per_entry <span class="op">=</span> <span class="fl">7</span>, </span>
<span>  checks <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  rep_checks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>  plotNumber <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1001</span>,<span class="fl">2001</span>,<span class="fl">3001</span>,<span class="fl">4001</span><span class="op">)</span>,</span>
<span>  locationNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LOC1"</span>, <span class="st">"LOC2"</span>, <span class="st">"LOC3"</span>, <span class="st">"LOC4"</span>, <span class="st">"LOC5"</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">2456</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level5">
<h5 id="details-on-the-inputs-entered-in-multi_location_prep-above">Details on the inputs entered in <code>multi_location_prep()</code>
above<a class="anchor" aria-label="anchor" href="#details-on-the-inputs-entered-in-multi_location_prep-above"></a>
</h5>
<p>The description for the inputs that we used to generate the
design,</p>
<ul>
<li>
<code>lines = 150</code> is the number of entries in the field.</li>
<li>
<code>l = 5</code> is the number of locations.</li>
<li>
<code>copies_per_entry = 7</code> is the number of copies of each
entry.</li>
<li>
<code>checks = 3</code> is the (optional) number of checks.</li>
<li>
<code>rep_checks = c(6,6,6)</code> is the (optional) number of
replications of each check, in a vector the length of the number of
checks.</li>
<li>
<code>locationNames = c("LOC1", "LOC2", "LOC3", "LOC4", "LOC5")</code>
are optional names for the locations.</li>
<li>
<code>seed = 2456</code> is the random seed to replicate identical
randomizations.</li>
</ul>
</div>
<div class="section level4">
<h4 id="print-optim_multi_prep-object">Print <code>optim_multi_prep</code> object<a class="anchor" aria-label="anchor" href="#print-optim_multi_prep-object"></a>
</h4>
<p>To print a summary of the information that is in the object
<code>optim_multi_prep</code>, we can use the generic function
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>.</p>
<p>The <code><a href="../reference/multi_location_prep.html">multi_location_prep()</a></code> function returns all the same
objects as in <code><a href="../reference/partially_replicated.html">partially_replicated()</a></code> and in addition
<code>list_locs</code>, <code>allocation</code>, and
<code>size_locations</code>. The object <code>list_locs</code> is a list
of data frames. Each data frame has three columns; <code>ENTRY</code>,
<code>NAME</code> and <code>REPS</code> with the information to
randomize to each environment. The object <code>allocation</code> is the
binary allocation matrix of genotypes to locations, and
<code>size_locations</code> is a data frame with a column for each
location and a row indicating the size of the location (number of field
plots).</p>
<p>For example, we can display the <code>allocation</code> object. Let
us print the first ten genotypes allocation.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">optim_multi_prep</span><span class="op">$</span><span class="va">allocation</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>   LOC1 LOC2 LOC3 LOC4 LOC5
1     2    1    2    1    1
2     1    2    1    1    2
3     1    1    1    2    2
4     1    1    2    1    2
5     1    2    1    2    1
6     2    1    1    2    1
7     2    1    2    1    1
8     1    2    2    1    1
9     1    2    1    1    2
10    2    2    1    1    1</code></pre>
<p>Let us add two new columns to the allocation table. We can add the
number of copies by genotype; it should be 7 for all of them. We can
also add the average allocation by genotype. Each treatment will appear
1.4 times in average.</p>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
LOC1
</th>
<th style="text-align:right;">
LOC2
</th>
<th style="text-align:right;">
LOC3
</th>
<th style="text-align:right;">
LOC4
</th>
<th style="text-align:right;">
LOC5
</th>
<th style="text-align:right;">
Copies
</th>
<th style="text-align:right;">
Avg
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Gen-1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-8
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-9
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen-10
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
</tbody>
</table>
<p>We can manipulate the <code>optim_multi_prep</code> object as any
other list in R. We can first display the design parameters for the
randomizations with the following code:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">optim_multi_prep</span><span class="op">)</span></span></code></pre></div>
<p>which outputs:</p>
<pre><code>Multi-Location Partially Replicated Design 

 Replications within location: 
  LOCATION Replicated Unreplicated
1     LOC1         63           90
2     LOC2         63           90
3     LOC3         63           90
4     LOC4         63           90
5     LOC5         63           90

 Information on the design parameters: 
List of 7
 $ rows             : num [1:5] 19 19 19 19 19
 $ columns          : num [1:5] 12 12 12 12 12
 $ min_distance     : num [1:5] 4 4.12 4.12 4 4.12
 $ incidence_in_rows: num [1:5] 6 8 3 2 3
 $ locations        : num 5
 $ planter          : chr "serpentine"
 $ seed             : num 2456

 10 First observations of the data frame with the partially_replicated field book: 
   ID     EXPT LOCATION YEAR PLOT ROW COLUMN CHECKS ENTRY TREATMENT
1   1 PrepExpt     LOC1 2023    1   1      1     46    46      G-46
2   2 PrepExpt     LOC1 2023    2   1      2     30    30      G-30
3   3 PrepExpt     LOC1 2023    3   1      3    118   118     G-118
4   4 PrepExpt     LOC1 2023    4   1      4      0    62      G-62
5   5 PrepExpt     LOC1 2023    5   1      5     61    61      G-61
6   6 PrepExpt     LOC1 2023    6   1      6      0    70      G-70
7   7 PrepExpt     LOC1 2023    7   1      7     65    65      G-65
8   8 PrepExpt     LOC1 2023    8   1      8      0   111     G-111
9   9 PrepExpt     LOC1 2023    9   1      9     15    15      G-15
10 10 PrepExpt     LOC1 2023   10   1     10    134   134     G-134</code></pre>
</div>
<div class="section level4">
<h4 id="access-to-optim_multi_prep-output">Access to <code>optim_multi_prep</code> output<a class="anchor" aria-label="anchor" href="#access-to-optim_multi_prep-output"></a>
</h4>
<p>All objects are accessible by the <code>$</code> operator,
i.e. <code>optim_multi_prep$layoutRandom[[1]]</code> for
<code>LOC1</code>, <code>optim_multi_prep$fieldBook</code> for the
<code>fieldBook</code> with all locations.</p>
<p><code>optim_multi_prep$fieldBook</code> is a data frame containing
information about every plot in the field, with information about the
location of the plot and the treatment in each plot. As seen in the
output below, the field book has columns for <code>ID</code>,
<code>EXPT</code>, <code>LOCATION</code>, <code>YEAR</code>,
<code>PLOT</code>, <code>ROW</code>, <code>COLUMN</code>,
<code>CHECKS</code>, <code>ENTRY</code>, and <code>TREATMENT</code>.</p>
<p>Let us see the first 10 rows of the field book for this
experiment.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">field_book</span> <span class="op">&lt;-</span> <span class="va">optim_multi_prep</span><span class="op">$</span><span class="va">fieldBook</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">field_book</span>, <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code>   ID     EXPT LOCATION YEAR PLOT ROW COLUMN CHECKS ENTRY TREATMENT
1   1 PrepExpt     LOC1 2023    1   1      1     46    46      G-46
2   2 PrepExpt     LOC1 2023    2   1      2     30    30      G-30
3   3 PrepExpt     LOC1 2023    3   1      3    118   118     G-118
4   4 PrepExpt     LOC1 2023    4   1      4      0    62      G-62
5   5 PrepExpt     LOC1 2023    5   1      5     61    61      G-61
6   6 PrepExpt     LOC1 2023    6   1      6      0    70      G-70
7   7 PrepExpt     LOC1 2023    7   1      7     65    65      G-65
8   8 PrepExpt     LOC1 2023    8   1      8      0   111     G-111
9   9 PrepExpt     LOC1 2023    9   1      9     15    15      G-15
10 10 PrepExpt     LOC1 2023   10   1     10    134   134     G-134</code></pre>
</div>
<div class="section level4">
<h4 id="plot-field-layout">Plot field layout<a class="anchor" aria-label="anchor" href="#plot-field-layout"></a>
</h4>
<p>For plotting the layout in function of the coordinates
<code>ROW</code> and <code>COLUMN</code> in the field book object we can
use the generic function <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> as follows. This plots only
the first location, but this is indexable by location using the dollar
sign operator as well.</p>
<div class="section level5">
<h5 id="field-layout-for-location-1">Field Layout for Location 1<a class="anchor" aria-label="anchor" href="#field-layout-for-location-1"></a>
</h5>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">optim_multi_prep</span>, l <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="multi_location_prep_files/figure-html/unnamed-chunk-21-1.png" width="691.2" style="display: block; margin: auto;"></p>
<p>In the figure above, green plots contain replicated entries, and gray
plots contain entries that only appear once.</p>
</div>
<div class="section level5">
<h5 id="field-layout-for-location-5">Field Layout for Location 5<a class="anchor" aria-label="anchor" href="#field-layout-for-location-5"></a>
</h5>
<p>Also, for example the location five:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">optim_multi_prep</span>, l <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="multi_location_prep_files/figure-html/unnamed-chunk-22-1.png" width="691.2" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-EdmondsonIBDs" class="csl-entry">
Edmondson, Rodney N. 2020. <span>“<span class="nocase">Multi-level Block
Designs for Comparative Experiments.</span>”</span> <em>Journal of
Agricultural, Biological and Environmental Statistics</em> 91 (25):
500–522. <a href="https://doi.org/10.1007/s13253-020-00416-0" class="external-link">https://doi.org/10.1007/s13253-020-00416-0</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Didier Murillo, Salvador Gezan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
