<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="FielDHub">
<title>Unreplicated Diagonal Arrangement Design â€¢ FielDHub</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Unreplicated Diagonal Arrangement Design">
<meta property="og:description" content="FielDHub">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FielDHub</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/diagonal_arrangement.html">Unreplicated Diagonal Arrangement Design</a>
    <a class="dropdown-item" href="../articles/optimized_arrangement.html">Unreplicated Optimized Arrangement Design</a>
    <a class="dropdown-item" href="../articles/RCBD_augmented.html">Augmented Randomized Complete Block Design</a>
    <a class="dropdown-item" href="../articles/partially_replicated.html">Partially Replicated Design</a>
    <a class="dropdown-item" href="../articles/square_lattice.html">Square Lattice Design</a>
    <a class="dropdown-item" href="../articles/rectangular_lattice.html">Rectangular Lattice Design</a>
    <a class="dropdown-item" href="../articles/alpha_lattice.html">Alpha Lattice Design</a>
    <a class="dropdown-item" href="../articles/crd.html">Completely Randomized Design</a>
    <a class="dropdown-item" href="../articles/rcbd.html">Randomized Complete Block Design</a>
    <a class="dropdown-item" href="../articles/latin_square.html">Latin Square Design</a>
    <a class="dropdown-item" href="../articles/full_factorial.html">Full Factorial Design</a>
    <a class="dropdown-item" href="../articles/split_plot.html">Split-Plot Design</a>
    <a class="dropdown-item" href="../articles/split_split_plot.html">Split-Split Plot Design</a>
    <a class="dropdown-item" href="../articles/strip_plot.html">Strip-Plot Design</a>
    <a class="dropdown-item" href="../articles/incomplete_blocks.html">Incomplete Block Design</a>
    <a class="dropdown-item" href="../articles/row_column.html">Row-Column Design</a>
    <a class="dropdown-item" href="../articles/methods.html">Methods in FielDHub</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="dropdown-item" href="../articles/news/fieldhub-1-2-0.html">Version 1.2.0</a>
    <a class="dropdown-item" href="../articles/news/fieldhub-0-1-0.html">Version 0.1.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DidierMurilloF/FielDHub/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Unreplicated Diagonal Arrangement Design</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DidierMurilloF/FielDHub/blob/HEAD/vignettes/diagonal_arrangement.Rmd" class="external-link"><code>vignettes/diagonal_arrangement.Rmd</code></a></small>
      <div class="d-none name"><code>diagonal_arrangement.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="single-unreplicated-diagonal-arrangement-design">Single Unreplicated Diagonal Arrangement Design<a class="anchor" aria-label="anchor" href="#single-unreplicated-diagonal-arrangement-design"></a>
</h2>
<p>This vignette shows how to generate <strong>single and multiple
unreplicated diagonal arrangement designs</strong> using both the
FielDHub Shiny App and the scripting function
<code><a href="../reference/diagonal_arrangement.html">diagonal_arrangement()</a></code> from the <code>FielDHub</code> R
package.</p>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>In some experiments, there is insufficient seed quantity or field
space to conduct trials with large numbers of genotypes, so plant
breeders must use unreplicated or partially replicated experimental
designs, like unreplicated designs with checks allocated in a systematic
diagonal distribution. In some cases, the experiment is split into
blocks of specified size. This allows breeders to design a field that
contains multiple different experiments, for example, plants at various
stages of maturity.</p>
<p>FielDHub includes a function to run such experimental designs, as
well as tabs for single and multiple diagonal arrangement on the
FielDHub app.</p>
</div>
<div class="section level2">
<h2 id="use-case">Use Case<a class="anchor" aria-label="anchor" href="#use-case"></a>
</h2>
<p>Suppose a plant breeding project needs to identify superior entries
of barley. In this project, a preliminary yield trial (PYT) is carried
out with 300 genotypes tested in one experiment and over one location by
an unreplicated design. The experiment is lying in a field containing 15
rows and 22 columns of plots. In addition, 5 checks are included in a
systematic diagonal arrangement across the field to fill 30 plots
representing 9.1% of the total number of experimental plots.</p>
</div>
<div class="section level2">
<h2 id="running-the-shiny-app">Running the Shiny App<a class="anchor" aria-label="anchor" href="#running-the-shiny-app"></a>
</h2>
<p>To launch the app you need to run either</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">FielDHub</span><span class="fu">::</span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DidierMurilloF/FielDHub" class="external-link">FielDHub</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-the-fieldhub-shiny-app">1. Using the FielDHub Shiny App<a class="anchor" aria-label="anchor" href="#using-the-fieldhub-shiny-app"></a>
</h2>
<p>Once the app is running, go to <strong>Unreplicated Designs</strong>
&gt; <strong>Single Diagonal Arrangement</strong></p>
<p>Then, follow the following steps where we will show how to generate a
single unreplicated diagonal arrangement design.</p>
</div>
<div class="section level2">
<h2 id="inputs">Inputs<a class="anchor" aria-label="anchor" href="#inputs"></a>
</h2>
<ol style="list-style-type: decimal">
<li>
<strong>Import entriesâ€™ list?</strong> Choose whether to import a
list with entry numbers and names for genotypes or treatments.
<ul>
<li><p>If the selection is <code>No</code>, that means the app is going
to generate synthetic data for entries and names of the
treatment/genotypes based on the user inputs.</p></li>
<li><p>If the selection is <code>Yes</code>, the entries list must
fulfill a specific format and must be a <code>.csv</code> file. The file
must have the columns <code>ENTRY</code> and <code>NAME</code>. The
<code>ENTRY</code> column must have a unique integer number entry for
each treatment/genotype. The column <code>NAME</code> must have a unique
name that identifies each treatment/genotype. Both ENTRY and NAME must
be unique, duplicates are not allowed. In the following table, we show
an example of the entries list format. This example has an entry list
with 4 checks and 8 treatments/genotypes. It is crucial to allocate the
checks in the top part of the file.</p></li>
</ul>
</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="right">ENTRY</th>
<th align="left">NAME</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">CH1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">CH2</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">CH3</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">CH4</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">ND-5</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">ND-6</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">ND-7</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="left">ND-8</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">ND-9</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">ND-10</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">ND-11</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="left">ND-12</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li><p>Enter the number of entries/treatments in the <strong>Input # of
Entries</strong> box, which is 300 in our case.</p></li>
<li><p>Select 5 from the drop-down on the <strong>Input # of
Checks</strong> box.</p></li>
<li><p>Since we want to run this experiment over 1 location, set
<strong>Input # of Locations</strong> to 1.</p></li>
<li><p>Select <code>serpentine</code> or <code>cartesian</code> in the
<strong>Plot Order Layout</strong>. For this example we will use the
<code>serpentine</code> layout.</p></li>
<li><p>To ensure that randomizations are consistent across sessions, we
can set a seed number in the box labeled <strong>Seed Number</strong>.
For instance, we will set it to <code>16</code>.</p></li>
<li><p>Enter the name for the experiment in the <strong>Input Experiment
Name</strong> box. For example, <code>PYT_BARLEY_2022</code>.</p></li>
<li><p>Enter the starting plot number in the <strong>Starting Plot
Number</strong> box. In this experiment we want the plot start at
<code>1001</code>.</p></li>
<li><p>Enter the name of the site/location in the <strong>Input the
Location</strong> box. For this experiment we will set the site as
<code>FARGO</code>. In the case of users will run the experiment in
multiple locations, the name for each location must be enter separate by
comma, for example: <code>FARGO, CASSELTON, MINOT</code>.</p></li>
<li><p>Once we have entered all the information for our experiment on
the left side panel, click the <strong>Run!</strong> button to run the
design.</p></li>
<li><p>You will then be prompted to select the dimensions of the field
from the list of options in the drop-down in the middle of the screen
with the box labeled <strong>Select dimensions of field</strong>. In our
case, we will select <code>15 x 22</code>.</p></li>
<li><p>Click the <strong>Randomize!</strong> button to randomize the
experiment with the set field dimensions and to see the output
plots.</p></li>
</ol>
<p>If you change any of the inputs on the left side panel after running
an experiment initially, you have to click the Run and Randomize buttons
again, to re-run with the new inputs.</p>
</div>
<div class="section level2">
<h2 id="outputs">Outputs<a class="anchor" aria-label="anchor" href="#outputs"></a>
</h2>
<p>After you run a single diagonal arrangement in FielDHub and set the
dimensions of the field, there are several ways to display the
information contained in the field book. The first tab, <strong>Expt
Design Info</strong>, shows the option to change the dimensions of the
field and re-randomize, as well as a reference guide for experiment
design.</p>
<div class="section level3">
<h3 id="input-data">Input Data<a class="anchor" aria-label="anchor" href="#input-data"></a>
</h3>
<p>On the second tab, <strong>Input Data</strong>, you can see all the
entries in the randomization in a list that was generated with the
inputs, as well as a table of the checks with the number of times they
appear in the field.</p>
</div>
<div class="section level3">
<h3 id="randomized-field">Randomized Field<a class="anchor" aria-label="anchor" href="#randomized-field"></a>
</h3>
<p>The <strong>Randomized Field</strong> tab displays a graphical
representation of the randomization of the entries in a field of the
specified dimensions. The checks are each colored uniquely, showing the
number of times they are distributed throughout the field. The display
includes numbered labels for the rows and columns. You can copy the
field as a table or save it directly as an Excel file with the
<em>Copy</em> and <em>Excel</em> buttons at the top.</p>
<p>In the <strong>Choose % of Checks:</strong> drop-down box, users can
play with different options for the total amount of checks in the
field.</p>
</div>
<div class="section level3">
<h3 id="plot-number-field">Plot Number Field<a class="anchor" aria-label="anchor" href="#plot-number-field"></a>
</h3>
<p>On the <strong>Plot Number Field</strong> tab, there is a table
display of the field with the plots numbered according to the Plot Order
Layout specified, either <em>serpentine</em> or <em>cartesian</em>. You
can see the corresponding entries for each plot number in the field
book. Like the Randomized Field tab, you can copy the table or save it
as an Excel file with the <em>Copy</em> and <em>Excel</em> buttons.</p>
</div>
<div class="section level3">
<h3 id="field-book">Field Book<a class="anchor" aria-label="anchor" href="#field-book"></a>
</h3>
<p>The <strong>Field Book</strong> displays all the information on the
experimental design in a table format. It contains the specific plot
number and the row and column address of each entry, as well as the
corresponding treatment on that plot. This table is searchable, and we
can filter the data in relevant columns.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="using-the-fieldhub-function-diagonal_arrangement">2. Using the <code>FielDHub</code> function:
<code>diagonal_arrangement()</code><a class="anchor" aria-label="anchor" href="#using-the-fieldhub-function-diagonal_arrangement"></a>
</h2>
<p>You can run the same design with a function in the FielDHub package,
<code><a href="../reference/diagonal_arrangement.html">diagonal_arrangement()</a></code>.</p>
<p>First, you need to load the <code>FielDHub</code> package typing,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DidierMurilloF/FielDHub" class="external-link">FielDHub</a></span><span class="op">)</span></span></code></pre></div>
<p>Then, you can enter the information describing the above design like
this:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">single_diag</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/diagonal_arrangement.html">diagonal_arrangement</a></span><span class="op">(</span></span>
<span>  nrows <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  ncols <span class="op">=</span> <span class="fl">22</span>,</span>
<span>  lines <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  checks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  l <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  plotNumber <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  exptName <span class="op">=</span> <span class="st">"PYT_BARLEY_2022"</span>,</span>
<span>  locationNames <span class="op">=</span> <span class="st">"FARGO"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">16</span>,</span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="details-on-the-inputs-entered-in-diagonal_arrangement-above">Details on the inputs entered in <code>diagonal_arrangement()</code>
above:<a class="anchor" aria-label="anchor" href="#details-on-the-inputs-entered-in-diagonal_arrangement-above"></a>
</h4>
<ul>
<li>
<code>nrows = 15</code> is the number of columns in the field.</li>
<li>
<code>ncols = 22</code> is the number of rows in the field.</li>
<li>
<code>lines = 300</code> is the number of genotypes.</li>
<li>
<code>checks = 5</code> is the number of checks.</li>
<li>
<code>l = 1</code> is the number of locations.</li>
<li>
<code>plotNumber = 1</code> is the starting plot number.</li>
<li>
<code>exptName = "PYT_BARLEY_2022"</code> optional name for the
experiment</li>
<li>
<code>locationNames = "FARGO"</code> optional name for each
location.</li>
<li>
<code>seed = 16</code> is the seed number to replicate identical
randomizations.</li>
</ul>
</div>
<div class="section level3">
<h3 id="print-single_diag-object">Print <code>single_diag</code> object<a class="anchor" aria-label="anchor" href="#print-single_diag-object"></a>
</h3>
<p>To print a summary of the information that is in the object
<code>single_diag</code>, we can use the generic function
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_diag</span><span class="op">)</span></span></code></pre></div>
<pre><code>Un-replicated Diagonal Arrangement Design 

Information on the design parameters: 
List of 11
 $ rows          : num 15
 $ columns       : num 22
 $ treatments    : int 300
 $ checks        : int 5
 $ entry_checks  : int [1:5] 1 2 3 4 5
 $ rep_checks    : num [1:5] 6 6 6 6 6
 $ locations     : num 1
 $ planter       : chr "serpentine"
 $ percent_checks: chr "9.1%"
 $ fillers       : num 0
 $ seed          : num 16

 10 First observations of the data frame with the diagonal_arrangement field book: 
   ID            EXPT LOCATION YEAR PLOT ROW COLUMN CHECKS ENTRY TREATMENT
1   1 PYT_BARLEY_2022    FARGO 2022    1   1      1      0    62    Gen-62
2   2 PYT_BARLEY_2022    FARGO 2022    2   1      2      0    38    Gen-38
3   3 PYT_BARLEY_2022    FARGO 2022    3   1      3      0   200   Gen-200
4   4 PYT_BARLEY_2022    FARGO 2022    4   1      4      0   253   Gen-253
5   5 PYT_BARLEY_2022    FARGO 2022    5   1      5      0    94    Gen-94
6   6 PYT_BARLEY_2022    FARGO 2022    6   1      6      0    16    Gen-16
7   7 PYT_BARLEY_2022    FARGO 2022    7   1      7      0    42    Gen-42
8   8 PYT_BARLEY_2022    FARGO 2022    8   1      8      0   211   Gen-211
9   9 PYT_BARLEY_2022    FARGO 2022    9   1      9      0   170   Gen-170
10 10 PYT_BARLEY_2022    FARGO 2022   10   1     10      0   144   Gen-144</code></pre>
</div>
<div class="section level3">
<h3 id="access-to-single_diag-object">Access to <code>single_diag</code> object<a class="anchor" aria-label="anchor" href="#access-to-single_diag-object"></a>
</h3>
<p>The function <code><a href="../reference/diagonal_arrangement.html">diagonal_arrangement()</a></code> returns a list
consisting of all the information displayed in the output tabs in the
FielDHub app: design information, plot layout, plot numbering, entries
list, and field book. These are accessible by the <code>$</code>
operator, i.e.Â <code>single_diag$layoutRandom</code> or
<code>single_diag$fieldBook</code>.</p>
<p><code>single_diag$fieldBook</code> is a data frame containing
information about every plot in the field, with information about the
location of the plot and the treatment in each plot. As seen in the
output below, the field book has columns for <code>ID</code>,
<code>EXPT</code>, <code>LOCATION</code>, <code>YEAR</code>,
<code>PLOT</code>, <code>ROW</code>, <code>COLUMN</code>,
<code>CHECKS</code>, <code>ENTRY</code>, and <code>TREATMENT</code>.</p>
<p>Let us see the first 10 rows of the field book for this
experiment.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">field_book</span> <span class="op">&lt;-</span> <span class="va">single_diag</span><span class="op">$</span><span class="va">fieldBook</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">field_book</span>, <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code>   ID            EXPT LOCATION YEAR PLOT ROW COLUMN CHECKS ENTRY TREATMENT
1   1 PYT_BARLEY_2022    FARGO 2022    1   1      1      0    62    Gen-62
2   2 PYT_BARLEY_2022    FARGO 2022    2   1      2      0    38    Gen-38
3   3 PYT_BARLEY_2022    FARGO 2022    3   1      3      0   200   Gen-200
4   4 PYT_BARLEY_2022    FARGO 2022    4   1      4      0   253   Gen-253
5   5 PYT_BARLEY_2022    FARGO 2022    5   1      5      0    94    Gen-94
6   6 PYT_BARLEY_2022    FARGO 2022    6   1      6      0    16    Gen-16
7   7 PYT_BARLEY_2022    FARGO 2022    7   1      7      0    42    Gen-42
8   8 PYT_BARLEY_2022    FARGO 2022    8   1      8      0   211   Gen-211
9   9 PYT_BARLEY_2022    FARGO 2022    9   1      9      0   170   Gen-170
10 10 PYT_BARLEY_2022    FARGO 2022   10   1     10      0   144   Gen-144</code></pre>
</div>
<div class="section level3">
<h3 id="plot-field-layout">Plot field layout<a class="anchor" aria-label="anchor" href="#plot-field-layout"></a>
</h3>
<p>For plotting the layout in function of the coordinates
<code>ROW</code> and <code>COLUMN</code> in the field book object we can
use the generic function <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> as follow,</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">single_diag</span><span class="op">)</span></span></code></pre></div>
<p><img src="diagonal_arrangement_files/figure-html/unnamed-chunk-12-1.png" width="691.2" style="display: block; margin: auto;"></p>
<p>The figure above shows a map of an experiment randomized as a single
unreplicated diagonal arrangement design. Gray plots represent the
unreplicated treatments, while distinctively colored check plots are
replicated throughout the field in a systematic diagonal
arrangement.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="multiple-unreplicated-diagonal-arrangement-design">Multiple Unreplicated Diagonal Arrangement Design<a class="anchor" aria-label="anchor" href="#multiple-unreplicated-diagonal-arrangement-design"></a>
</h2>
<p>Now, we show how to generate the same kind of unreplicated design
with multiple experiments in the same field.</p>
</div>
<div class="section level2">
<h2 id="use-case-1">Use Case<a class="anchor" aria-label="anchor" href="#use-case-1"></a>
</h2>
<p>A plant breeding project needs to test 300 genotypes divided among
three different experiments in amounts of 100, 120, and 80 respectively.
Each experiment represents different stages of maturity. The 3
experiments are lying in a field containing 15 rows and 22 columns of
plots. In addition, 5 checks are included in a systematic diagonal
arrangement across experiments to fill 30 plots representing 9.1% of the
total number of experimental plots.</p>
<p><code>FielDHub</code> can perform the randomization for the design in
the problem explained above. This can be solved either through the app
or the <code><a href="../reference/diagonal_arrangement.html">diagonal_arrangement()</a></code> function.</p>
</div>
<div class="section level2">
<h2 id="using-the-fieldhub-shiny-app-1">1. Using the FielDHub Shiny App<a class="anchor" aria-label="anchor" href="#using-the-fieldhub-shiny-app-1"></a>
</h2>
<p>To generate a multiple unreplicated diagonal arrangement design using
the FielDHub app:</p>
<p>First, go to <strong>Unreplicated Designs</strong> &gt;
<strong>Multiple Diagonal Arrangement</strong></p>
<p>Then, follow the following steps where we will show how to generate
this kind of design.</p>
</div>
<div class="section level2">
<h2 id="inputs-1">Inputs<a class="anchor" aria-label="anchor" href="#inputs-1"></a>
</h2>
<ol style="list-style-type: decimal">
<li>
<strong>Import entriesâ€™ list?</strong> Choose whether to import a
list with entry numbers and names for genotypes or treatments.
<ul>
<li><p>If the selection is <code>No</code>, that means the app is going
to generate synthetic data for entries and names of the
treatment/genotypes based on the user inputs.</p></li>
<li><p>If the selection is <code>Yes</code>, the entries list must
fulfill a specific format and must be a <code>.csv</code> file. The file
must have the columns <code>ENTRY</code> and <code>NAME</code>. The
<code>ENTRY</code> column must have a unique entry integer number for
each treatment/genotype. The column <code>NAME</code> must have a unique
name that identifies each treatment/genotype. Both ENTRY and NAME must
be unique, duplicates are not allowed. In the following table, we show
an example of the entries list format. This example has an entry list
with four checks and 8 treatments/genotypes. It is crucial to allocate
the checks in the top part of the file.</p></li>
<li><p><strong>Note:</strong> If you wish to create multiple blocks of
different sizes from an imported entries list, for example, a block of
size 80, 90, and 100 plots, FielDHub will read the imported entries list
as checks, then the 80 entries for the first block, then the 90 entries
for the second block, then the 100 entries for the last block.</p></li>
</ul>
</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="right">ENTRY</th>
<th align="left">NAME</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">CH1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">CH2</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">CH3</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">CH4</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">ND-5</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">ND-6</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">ND-7</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="left">ND-8</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">ND-9</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">ND-10</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">ND-11</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="left">ND-12</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li><p>Select the checkbox option <strong>Use the same entries across
experiments</strong> if the purpose is to make replications instead of
testing different experiments. Checking this option requires the same
size for all blocks. For example, testing 100 treatments across 3 blocks
require to set <code>300</code> in <strong>Input # of Entries</strong>
and <code>100, 100, 100</code> as input in <strong>Input # Entries per
Expt</strong>. In our case we will keep unchecked this option.</p></li>
<li><p>Enter the total number of entries/treatments in the <strong>Input
# of Entries</strong> box, which is <code>300</code> in our
case.</p></li>
<li><p>Enter the number of entries/treatments by experiment separate by
comma in the <strong>Input # Entries per Expt</strong> box, which are
<code>100, 120, 80</code> in our case.</p></li>
<li><p>Select 5 from the drop-down on the <strong>Input # of
Checks</strong> box.</p></li>
<li><p>Since we want to run this experiment over 1 location, set
<strong>Input # of Locations</strong> to <code>1</code>.</p></li>
<li><p>Select <code>By Row</code> or <code>By Column</code> in the
<strong>Blocks Layout:</strong>. For this example we will set the
<code>By Row</code> experiments/blocks layout.</p></li>
<li><p>Select <code>serpentine</code> or <code>cartesian</code> in the
<strong>Plot Order Layout</strong>. For this example we will set the
<code>serpentine</code> layout.</p></li>
<li><p>Enter the starting plot number for each experiment in the
<strong>Starting Plot Number</strong> box. In this experiment we want
the plot start at <code>1, 1001, 2001</code> for each experiment. The
app also allows setting only one number for all experiments. For
example, the plot number could start at <code>10</code>.</p></li>
<li><p>Enter the name for each experiment in the <strong>Input
Experiment Name</strong> box. For example,
<code>MATURITY1, MATURITY2, MATURITY3</code>.</p></li>
<li><p>To ensure that randomization are consistent across sessions, we
can set a seed number in the box labeled <strong>Seed Number</strong>.
For instance, we will set it to <code>17</code>.</p></li>
<li><p>Enter the name of the site/location in the <strong>Input the
Location</strong> box. For this experiment we will set the site as
<code>FARGO</code>. In the case of users will run the experiment in
multiple locations, the name for each location must be enter separate by
comma, for example: <code>FARGO, CASSELTON, MINOT</code>.</p></li>
<li><p>Once we have entered all the information for our experiment on
the left side panel, click the <strong>Run!</strong> button to run the
design.</p></li>
<li><p>You will then be prompted to select the dimensions of the field
from the list of options in the drop-down in the middle of the screen
with the box labeled <strong>Select dimensions of field</strong>. In our
case, we will select <code>15 x 22</code>.</p></li>
<li><p>Click the <strong>Randomize!</strong> button to randomize the
experiment with the set field dimensions and to see the output
plots.</p></li>
</ol>
<p>If you change any of the inputs on the left side panel after running
an experiment initially, you have to click the Run and Randomize buttons
again, to re-run with the new inputs.</p>
</div>
<div class="section level2">
<h2 id="outputs-1">Outputs<a class="anchor" aria-label="anchor" href="#outputs-1"></a>
</h2>
<p>After you run a single diagonal arrangement in FielDHub and set the
dimensions of the field, there are several ways to display the
information contained in the field book. The first tab, <strong>Expt
Design Info</strong>, shows the option to change the dimensions of the
field and re-randomize, as well as a reference guide for experiment
design.</p>
<div class="section level3">
<h3 id="input-data-1">Input Data<a class="anchor" aria-label="anchor" href="#input-data-1"></a>
</h3>
<p>On the second tab, <strong>Input Data</strong>, you can see all the
entries in the randomization in a list that was generated with the
inputs, as well as a table of the checks with the number of times they
appear in the field.</p>
</div>
<div class="section level3">
<h3 id="randomized-field-1">Randomized Field<a class="anchor" aria-label="anchor" href="#randomized-field-1"></a>
</h3>
<p>The <strong>Randomized Field</strong> tab displays a graphical
representation of the randomization of the entries in a field of the
specified dimensions. The checks are all colored uniquely, showing the
number of times they are distributed throughout the field. The display
includes numbered labels for the rows and columns. You can copy the
field as a table or save it directly as an Excel file with the
<em>Copy</em> and <em>Excel</em> buttons at the top.</p>
<p>In this tab by the <strong>Choose % of Checks:</strong> box users can
play with different options for the total amount of checks in the
field.</p>
</div>
<div class="section level3">
<h3 id="plot-number-field-1">Plot Number Field<a class="anchor" aria-label="anchor" href="#plot-number-field-1"></a>
</h3>
<p>On the <strong>Plot Number Field</strong> tab, there is a table
display of the field with the plots numbered according to the Plot Order
Layout specified, either <em>serpentine</em> or <em>cartesian</em>. You
can see the corresponding entries for each plot number in the field
book. Like the Randomized field tab, you can copy the table or save it
as an Excel file with the <em>Copy</em> and <em>Excel</em> buttons.</p>
</div>
<div class="section level3">
<h3 id="field-book-1">Field Book<a class="anchor" aria-label="anchor" href="#field-book-1"></a>
</h3>
<p>The <strong>Field Book</strong> displays all the information on the
experimental design in a table format. It contains the specific plot
number and the row and column address of each entry, as well as the
corresponding treatment on that plot. This table is searchable, and we
can filter the data in relevant columns.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="using-the-fieldhub-function-diagonal_arrangement-1">2. Using the <code>FielDHub</code> function:
<code>diagonal_arrangement()</code><a class="anchor" aria-label="anchor" href="#using-the-fieldhub-function-diagonal_arrangement-1"></a>
</h2>
<p>A variation on the single diagonal arrangement included in the
<code><a href="../reference/diagonal_arrangement.html">diagonal_arrangement()</a></code> function is the multiple diagonal
arrangement, where the experiment is split into blocks of specified
size.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_diag</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/diagonal_arrangement.html">diagonal_arrangement</a></span><span class="op">(</span></span>
<span>  nrows <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  ncols <span class="op">=</span> <span class="fl">22</span>,</span>
<span>  lines <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  kindExpt <span class="op">=</span> <span class="st">"DBUDC"</span>, </span>
<span>  blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">120</span>,<span class="fl">80</span><span class="op">)</span>,</span>
<span>  checks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  l <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  plotNumber <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1001</span>, <span class="fl">2001</span><span class="op">)</span>,</span>
<span>  exptName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MATURITY1"</span>, <span class="st">"MATURITY2"</span>, <span class="st">"MATURITY3"</span><span class="op">)</span>,</span>
<span>  locationNames <span class="op">=</span> <span class="st">"FARGO"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">17</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="details-on-the-inputs-entered-in-diagonal_arrangement-above-1">Details on the inputs entered in <code>diagonal_arrangement()</code>
above:<a class="anchor" aria-label="anchor" href="#details-on-the-inputs-entered-in-diagonal_arrangement-above-1"></a>
</h4>
<p>The description for the inputs that we used to generate the
design,</p>
<ul>
<li>
<code>nrows = 15</code> is the number of columns in the field.</li>
<li>
<code>ncols = 22</code> is the number of rows in the field.</li>
<li>
<code>lines = 300</code> is the number of genotypes.</li>
<li>
<code>kindExpt = "DBUDC"</code> is an option to randomize multiple
experiments</li>
<li>
<code>blocks = c(100,120,80)</code> are the blocks in multiple
arrangement.</li>
<li>
<code>checks = 5</code> is the number of checks.</li>
<li>
<code>l = 1</code> is the number of locations.</li>
<li>
<code>plotNumber = c(1, 1001, 2001)</code> is the starting plot
number for each experiment. It could be just one number as well.</li>
<li>
<code>exptName = c("MATURITY1", "MATURITY2", "MATURITY3")</code> is
an optional name for each experiment.</li>
<li>
<code>locationNames = "FARGO"</code> optional name for each
location.</li>
<li>
<code>seed = 17</code> is the seed number to replicate identical
randomizations.</li>
</ul>
</div>
<div class="section level3">
<h3 id="print-multi_diag-object">Print <code>multi_diag</code> object<a class="anchor" aria-label="anchor" href="#print-multi_diag-object"></a>
</h3>
<p>For printing a summary of the information that is in the object
<code>multi_diag</code> we can use the generic function
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">multi_diag</span><span class="op">)</span></span></code></pre></div>
<pre><code>Un-replicated Diagonal Arrangement Design 

Information on the design parameters: 
List of 11
 $ rows          : num 15
 $ columns       : num 22
 $ treatments    : num [1:3] 100 120 80
 $ checks        : int 5
 $ entry_checks  : int [1:5] 1 2 3 4 5
 $ rep_checks    : num [1:5] 6 7 5 7 5
 $ locations     : num 1
 $ planter       : chr "serpentine"
 $ percent_checks: chr "9.1%"
 $ fillers       : num 0
 $ seed          : num 17

 10 First observations of the data frame with the diagonal_arrangement field book: 
   ID      EXPT LOCATION YEAR PLOT ROW COLUMN CHECKS ENTRY TREATMENT
1   1 MATURITY1    FARGO 2022    1   1      1      0    39    Gen-39
2   2 MATURITY1    FARGO 2022    2   1      2      0    37    Gen-37
3   3 MATURITY1    FARGO 2022    3   1      3      0    30    Gen-30
4   4 MATURITY1    FARGO 2022    4   1      4      0    68    Gen-68
5   5 MATURITY1    FARGO 2022    5   1      5      0    29    Gen-29
6   6 MATURITY1    FARGO 2022    6   1      6      0    46    Gen-46
7   7 MATURITY1    FARGO 2022    7   1      7      0    93    Gen-93
8   8 MATURITY1    FARGO 2022    8   1      8      0    28    Gen-28
9   9 MATURITY1    FARGO 2022    9   1      9      0    53    Gen-53
10 10 MATURITY1    FARGO 2022   10   1     10      0    58    Gen-58</code></pre>
</div>
<div class="section level3">
<h3 id="access-to-multi_diag-object">Access to <code>multi_diag</code> object<a class="anchor" aria-label="anchor" href="#access-to-multi_diag-object"></a>
</h3>
<p>The function <code><a href="../reference/diagonal_arrangement.html">diagonal_arrangement()</a></code> returns a list
consisting of all the information displayed in the output tabs in the
FielDHub app: design information, plot layout, plot numbering, entries
list, and field book. These are accessible by the <code>$</code>
operator, i.e.Â <code>multi_diag$layoutRandom</code> or
<code>multi_diag$fieldBook</code>.</p>
<p><code>multi_diag$fieldBook</code> is a data frame containing
information about every plot in the field, with information about the
location of the plot and the treatment in each plot. As seen in the
output below, the field book has columns for <code>ID</code>,
<code>EXPT</code>, <code>LOCATION</code>, <code>YEAR</code>,
<code>PLOT</code>, <code>ROW</code>, <code>COLUMN</code>,
<code>CHECKS</code>, <code>ENTRY</code>, and <code>TREATMENT</code>.</p>
<p>Let us see the first 10 rows of the field book for this
experiment.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">field_book</span> <span class="op">&lt;-</span> <span class="va">multi_diag</span><span class="op">$</span><span class="va">fieldBook</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">field_book</span>, <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code>   ID      EXPT LOCATION YEAR PLOT ROW COLUMN CHECKS ENTRY TREATMENT
1   1 MATURITY1    FARGO 2022    1   1      1      0    39    Gen-39
2   2 MATURITY1    FARGO 2022    2   1      2      0    37    Gen-37
3   3 MATURITY1    FARGO 2022    3   1      3      0    30    Gen-30
4   4 MATURITY1    FARGO 2022    4   1      4      0    68    Gen-68
5   5 MATURITY1    FARGO 2022    5   1      5      0    29    Gen-29
6   6 MATURITY1    FARGO 2022    6   1      6      0    46    Gen-46
7   7 MATURITY1    FARGO 2022    7   1      7      0    93    Gen-93
8   8 MATURITY1    FARGO 2022    8   1      8      0    28    Gen-28
9   9 MATURITY1    FARGO 2022    9   1      9      0    53    Gen-53
10 10 MATURITY1    FARGO 2022   10   1     10      0    58    Gen-58</code></pre>
</div>
<div class="section level3">
<h3 id="plot-field-layout-1">Plot field layout<a class="anchor" aria-label="anchor" href="#plot-field-layout-1"></a>
</h3>
<p>For plotting the layout in function of the coordinates
<code>ROW</code> and <code>COLUMN</code> in the field book object we can
use the generic function <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> as follow,</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">multi_diag</span><span class="op">)</span></span></code></pre></div>
<p><img src="diagonal_arrangement_files/figure-html/unnamed-chunk-20-1.png" width="691.2" style="display: block; margin: auto;"></p>
<p>The figure above shows a map of an experiment randomized as a
multiple unreplicated diagonal arrangement design. Gray, salmon, and
pink shade the blocks of unreplicated experiments, while distinctively
colored check plots are replicated throughout the field in a systematic
diagonal arrangement.</p>
<p><br><br><br></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Didier Murillo, Salvador Gezan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
