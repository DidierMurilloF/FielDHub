% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_do_optim.R
\name{multi_location_prep}
\alias{multi_location_prep}
\title{Optimized multi-location partially replicated design}
\usage{
multi_location_prep(
  lines,
  nrows,
  ncols,
  l,
  planter,
  plotNumber,
  desired_avg,
  plant_reps,
  checks = NULL,
  rep_checks = NULL,
  exptName,
  locationNames,
  optim_list,
  seed
)
}
\arguments{
\item{lines}{Number of genotypes, experimental lines or treatments.}

\item{nrows}{Number of rows field.}

\item{ncols}{Number of columns field.}

\item{l}{Number of locations. By default \code{l = 1}.}

\item{planter}{Option for \code{serpentine} or \code{cartesian} movement. By default  \code{planter = 'serpentine'}.}

\item{plotNumber}{Numeric vector with the starting plot number for each location. By default \code{plotNumber = 101}.}

\item{desired_avg}{(optional) Desired average of treatments across locations.}

\item{plant_reps}{Number of total copies per treatment.}

\item{checks}{Number of checks.}

\item{rep_checks}{Number of replications per check.}

\item{exptName}{(optional) Name of the experiment.}

\item{locationNames}{(optional) Name for each location.}

\item{optim_list}{(optional) A class "SparsePrep" object generated by \code{do_optim()} function.}

\item{seed}{(optional) Real number that specifies the starting seed to obtain reproducible designs.}
}
\value{
A list with five elements.
\itemize{
  \item \code{designs} is a list with each location p-rep randomization.
  \item \code{list_locs} is a list with each location list of entries.
  \item \code{allocation} is a matrix with the allocation of treatments.
  \item \code{size_locations} is a data frame with columns as number of locations
and one row with the size of the location.
}
}
\description{
Optimized multi-location partially replicated design
}
\examples{
# Example 1: Generates a spatial optimized multi-location p-rep design with 142 
# genotypes. The number of copies per plant available for this experiment are 9. 
# The plant is carry out this experiment in 5 locations.
# In this case we also add 3 controls (checks) with 6 reps each.
# With this set up, the experiment will have 142 treatments + 3 checks = 145 
# entries and the number of entries per location will be 196. 
# Also, the overal average genotype allocation will be 1.5 copies per location. 
optim_multi_prep <- multi_location_prep(
  lines = 142,  
  l = 5, 
  plant_reps = 7, 
  checks = 3, 
  rep_checks = c(6,6,6),
  locationNames = c("LOC1", "LOC2", "LOC3", "LOC4", "LOC5"), 
  seed = 1234
)
designs <- optim_multi_prep$designs
field_book_loc_1 <- designs$LOC1$fieldBook
head(field_book_loc_1, 10)
}
\references{
Edmondson, R.N. Multi-level Block Designs for Comparative Experiments. JABES 25, 
500â€“522 (2020). https://doi.org/10.1007/s13253-020-00416-0
}
\author{
Didier Murillo [aut],
        Salvador Gezan [aut],
        Ana Heilman [ctb],
        Johan Aparicio [ctb], 
        Richard Horsley [ctb]
}
