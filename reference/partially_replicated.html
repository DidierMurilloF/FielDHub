<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generates a Spatial Partially Replicated Arrangement Design — partially_replicated • FielDHub</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generates a Spatial Partially Replicated Arrangement Design — partially_replicated"><meta name="description" content="Randomly generates a spatial partially replicated (p-rep) design for single or multiple locations."><meta property="og:description" content="Randomly generates a spatial partially replicated (p-rep) design for single or multiple locations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FielDHub</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/sparse_allocation.html">Sparse Allocation/Testing</a></li>
    <li><a class="dropdown-item" href="../articles/diagonal_arrangement.html">Unreplicated Diagonal Arrangement Design</a></li>
    <li><a class="dropdown-item" href="../articles/optimized_arrangement.html">Unreplicated Optimized Arrangement Design</a></li>
    <li><a class="dropdown-item" href="../articles/RCBD_augmented.html">Augmented Randomized Complete Block Design</a></li>
    <li><a class="dropdown-item" href="../articles/partially_replicated.html">Partially Replicated Design</a></li>
    <li><a class="dropdown-item" href="../articles/multi_location_prep.html">Optimized Multi-Location P-rep</a></li>
    <li><a class="dropdown-item" href="../articles/square_lattice.html">Square Lattice Design</a></li>
    <li><a class="dropdown-item" href="../articles/rectangular_lattice.html">Rectangular Lattice Design</a></li>
    <li><a class="dropdown-item" href="../articles/alpha_lattice.html">Alpha Lattice Design</a></li>
    <li><a class="dropdown-item" href="../articles/crd.html">Completely Randomized Design</a></li>
    <li><a class="dropdown-item" href="../articles/rcbd.html">Randomized Complete Block Design</a></li>
    <li><a class="dropdown-item" href="../articles/latin_square.html">Latin Square Design</a></li>
    <li><a class="dropdown-item" href="../articles/full_factorial.html">Full Factorial Design</a></li>
    <li><a class="dropdown-item" href="../articles/split_plot.html">Split-Plot Design</a></li>
    <li><a class="dropdown-item" href="../articles/split_split_plot.html">Split-Split Plot Design</a></li>
    <li><a class="dropdown-item" href="../articles/strip_plot.html">Strip-Plot Design</a></li>
    <li><a class="dropdown-item" href="../articles/incomplete_blocks.html">Incomplete Block Design</a></li>
    <li><a class="dropdown-item" href="../articles/row_column.html">Row-Column Design</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">Methods in FielDHub</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="dropdown-item" href="../articles/news/fieldhub-1-3-1.html">Version 1.3.1</a></li>
    <li><a class="dropdown-item" href="../articles/news/fieldhub-1-2-0.html">Version 1.2.0</a></li>
    <li><a class="dropdown-item" href="../articles/news/fieldhub-0-1-0.html">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DidierMurilloF/FielDHub/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generates a Spatial Partially Replicated Arrangement Design</h1>
      <small class="dont-index">Source: <a href="https://github.com/DidierMurilloF/FielDHub/blob/master/R/fct_partially_replicated.R" class="external-link"><code>R/fct_partially_replicated.R</code></a></small>
      <div class="d-none name"><code>partially_replicated.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Randomly generates a spatial partially replicated (p-rep) design for single or multiple locations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">partially_replicated</span><span class="op">(</span></span>
<span>  nrows <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ncols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  repGens <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  repUnits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  planter <span class="op">=</span> <span class="st">"serpentine"</span>,</span>
<span>  l <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  plotNumber <span class="op">=</span> <span class="fl">101</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exptName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locationNames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  multiLocationData <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dist_method <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  border_penalization <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nrows">nrows<a class="anchor" aria-label="anchor" href="#arg-nrows"></a></dt>
<dd><p>Numeric vector with the number of rows field at each location.</p></dd>


<dt id="arg-ncols">ncols<a class="anchor" aria-label="anchor" href="#arg-ncols"></a></dt>
<dd><p>Numeric vector with the number of columns field at each location.</p></dd>


<dt id="arg-repgens">repGens<a class="anchor" aria-label="anchor" href="#arg-repgens"></a></dt>
<dd><p>Numeric vector with the amount genotypes to replicate.</p></dd>


<dt id="arg-repunits">repUnits<a class="anchor" aria-label="anchor" href="#arg-repunits"></a></dt>
<dd><p>Numeric vector with the number of reps of each genotype.</p></dd>


<dt id="arg-planter">planter<a class="anchor" aria-label="anchor" href="#arg-planter"></a></dt>
<dd><p>Option for <code>serpentine</code> or <code>cartesian</code> movement. By default  <code>planter = 'serpentine'</code>.</p></dd>


<dt id="arg-l">l<a class="anchor" aria-label="anchor" href="#arg-l"></a></dt>
<dd><p>Number of locations. By default <code>l = 1</code>.</p></dd>


<dt id="arg-plotnumber">plotNumber<a class="anchor" aria-label="anchor" href="#arg-plotnumber"></a></dt>
<dd><p>Numeric vector with the starting plot number for each location. By default <code>plotNumber = 101</code>.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>(optional) Real number that specifies the starting seed to obtain reproducible designs.</p></dd>


<dt id="arg-exptname">exptName<a class="anchor" aria-label="anchor" href="#arg-exptname"></a></dt>
<dd><p>(optional) Name of the experiment.</p></dd>


<dt id="arg-locationnames">locationNames<a class="anchor" aria-label="anchor" href="#arg-locationnames"></a></dt>
<dd><p>(optional) Name for each location.</p></dd>


<dt id="arg-multilocationdata">multiLocationData<a class="anchor" aria-label="anchor" href="#arg-multilocationdata"></a></dt>
<dd><p>(optional) Option to pass an entry list for multiple locations.
By default <code>multiLocationData = FALSE</code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(optional) Data frame with 3 columns: <code>ENTRY | NAME | REPS</code>. If
<code>multiLocationData = TRUE</code> then the <code>data</code> must have
4 columns: <code>LOCATION | ENTRY | NAME | REPS</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with several elements.</p><ul><li><p><code>infoDesign</code> is a list with information on the design parameters.</p></li>
<li><p><code>layoutRandom</code> is a matrix with the randomization layout.</p></li>
<li><p><code>plotNumber</code> is a matrix with the layout plot number.</p></li>
<li><p><code>binaryField</code> is a matrix with the binary field.</p></li>
<li><p><code>dataEntry</code> is a data frame with the data input.</p></li>
<li><p><code>genEntries</code> is a list with the entries for replicated and non-replicated parts.</p></li>
<li><p><code>fieldBook</code> is a data frame with field book design. This includes the index (Row, Column).</p></li>
<li><p><code>min_pairwise_distance</code> is a data frame with the minimum pairwise distance between
          each pair of locations.</p></li>
<li><p><code>reps_info</code> is a data frame with information on the number of replicated and
          non-replicated treatments at each location.</p></li>
<li><p><code>pairsDistance</code> is a data frame with the pairwise distances between each pair of
          treatments.</p></li>
<li><p><code>treatments_with_reps</code> is a list with the entries for the replicated part of the design.</p></li>
<li><p><code>treatments_with_no_reps</code> is a list with the entries for the non-replicated part of the design.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function generates and optimizes a partially replicated (p-rep) experimental design for a
given set of treatments and replication levels. The design is represented by a matrix and optimized
using a pairwise distance metric. The function outputs various information about the optimized design
including the field layout, replicated and unreplicated treatments, and pairwise distances between
treatments. Note that the design generation needs the dimension of the field (number of rows and columns).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cullis, S., B. R., &amp; Coombes, N. E. (2006). On the design of early generation variety trials
with correlated data. Journal of Agricultural, Biological, and Environmental Statistics, 11,
381–393. https://doi.org/10.1198/108571106X154443</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Didier Murillo [aut],
        Salvador Gezan [aut],
        Ana Heilman [ctb],
        Thomas Walk [ctb],
        Johan Aparicio [ctb],
        Jean-Marc Montpetit [ctb],
        Richard Horsley [ctb]</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Generates a spatial optimized partially replicated arrangement design in one </span></span></span>
<span class="r-in"><span><span class="co"># location with 335 genotypes for a field with dimensions 15 rows x 28 cols. </span></span></span>
<span class="r-in"><span><span class="co"># Note that there are 250 genotypes unreplicated (only one time), 85 genotypes replicated </span></span></span>
<span class="r-in"><span><span class="co"># two times, and three checks 8 times each.</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign1</span> <span class="op">&lt;-</span> <span class="fu">partially_replicated</span><span class="op">(</span></span></span>
<span class="r-in"><span> nrows <span class="op">=</span> <span class="fl">12</span>, </span></span>
<span class="r-in"><span> ncols <span class="op">=</span> <span class="fl">37</span>,  </span></span>
<span class="r-in"><span> repGens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">85</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> repUnits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> planter <span class="op">=</span> <span class="st">"cartesian"</span>, </span></span>
<span class="r-in"><span> plotNumber <span class="op">=</span> <span class="fl">101</span>,</span></span>
<span class="r-in"><span> seed <span class="op">=</span> <span class="fl">77</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign1</span><span class="op">$</span><span class="va">infoDesign</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign1</span><span class="op">$</span><span class="va">layoutRandom</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign1</span><span class="op">$</span><span class="va">plotNumber</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">prep_deseign1</span><span class="op">$</span><span class="va">fieldBook</span>, <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Generates a spatial optimized partially replicated arrangement design with 492 </span></span></span>
<span class="r-in"><span><span class="co"># genotypes in a field with dimensions 30 rows x 20 cols. Note that there 384 genotypes </span></span></span>
<span class="r-in"><span><span class="co"># unreplicated (only one time), 108 genotypes replicated two times. </span></span></span>
<span class="r-in"><span><span class="co"># In this case we don't have check plots.</span></span></span>
<span class="r-in"><span><span class="co"># As example, we set up the data option with the entries list.</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">NAME</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"G"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">492</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">repGens</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">108</span>, <span class="fl">384</span><span class="op">)</span>;<span class="va">repUnits</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">REPS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">repUnits</span>, <span class="va">repGens</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">treatment_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ENTRY <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">492</span>, NAME <span class="op">=</span> <span class="va">NAME</span>, REPS <span class="op">=</span> <span class="va">REPS</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">treatment_list</span>, <span class="fl">12</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">treatment_list</span>, <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign2</span> <span class="op">&lt;-</span> <span class="fu">partially_replicated</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nrows <span class="op">=</span> <span class="fl">30</span>, </span></span>
<span class="r-in"><span>  ncols <span class="op">=</span> <span class="fl">20</span>, </span></span>
<span class="r-in"><span>  planter <span class="op">=</span> <span class="st">"serpentine"</span>, </span></span>
<span class="r-in"><span>  plotNumber <span class="op">=</span> <span class="fl">101</span>,</span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="fl">41</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">treatment_list</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign2</span><span class="op">$</span><span class="va">infoDesign</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign2</span><span class="op">$</span><span class="va">layoutRandom</span></span></span>
<span class="r-in"><span><span class="va">prep_deseign2</span><span class="op">$</span><span class="va">plotNumber</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">prep_deseign2</span><span class="op">$</span><span class="va">fieldBook</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Didier Murillo, Salvador Gezan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

